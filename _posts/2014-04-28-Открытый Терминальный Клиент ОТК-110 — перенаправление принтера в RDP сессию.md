---
layout: post
title: Открытый Терминальный Клиент ОТК-110 — перенаправление принтера в RDP сессию  
excerpt_separator: <!--end_excerpt-->
---
Первый раз опубликовано 28.04.2014 в 07:23 на [habrhabr.com](https://habr.com/ru/company/itfb/blog/221021/)  
#### Четвертый пост об открытом терминальном клиенте ОТК-110, он же ультратонкий клиент.  
Инструкция по настройке открытого ультратонкого клиента  
Наш сайт — [opensourceclient.org](opensourceclient.org)  
Описание разработанной нами платы платы [DS-110](http://opensourceclient.org/faq/specifications-ds-110).  
форум — [opensourceclient.org/forum/](opensourceclient.org/forum/)  
Теперь работает перенаправление подключенного к ОТК-110 принтера в терминальную сессию RDP.  
Как обычно использовались только пакеты доступные для debian для armhf из стандартных репозиториев debian.  
После тестирования остался один вариант:  
    на ОТК-110 запущен [CUPS](https://www.cups.org/)
    в [FreeRDP](http://www.freerdp.org/) перенаправляются принтеры имеющиеся в CUPS  
На сервере Windows должен быть установлен драйвер принтера подключенного к ОТК-110.  
Теоретически всё, на чем может печатать CUPS и имеет драйвера под Windows, может быть перенаправлено в терминальную сессию.  
В том числе принтеры, которые требуют загрузки firmware после включения (если об этой необходимости знает и умеет CUPS, точнее не сам CUPS, но здесь это не принципиально).  
#### Настройка  
В плане настройки остановились на варианте:  
- CUPS настраивается через браузер запущенный на ОТК-110, этот вариант не требует отдельный компьютер с браузером.  
- в оболочке настройки параметров ОТК-110 прописывается строка вида <Имя принтера в CUPS>:<Имя драйвера принтера на сервере RDP>.  
Всё, настройка закончена, всё должно работать и работает.  
Дополнительно сделан PDF принтер — иногда это удобно. Полученные документы хранятся в RAM ОТК-110, т.е. при выключении будут потеряны.  
#### Обновление прошивки  
В связи c большим вмешательством в исходный дистрибутив Cubie, не удалось обойтись только обновлением утилиты настройки параметров. Требуется полная перепрошивка.  
Для полной перепрошивки необходимо скачать образ прошивки, записать его на microSD карту, вставить в ОТК-110 и загрузиться. Войти в настройки, выбрать About/Update firmware on NAND, прошивка с SD карты будет скопирована в NAND. После окончания прошивки ОТК-110 выключиться. Необходимо извлечь SD карту.  
Всё, можно включать.  
#### Важно!
Если в сети используется более одного открытого терминального клиента — необходимо назначить разные MAC адреса сетевых адаптеров.Четвертый пост об открытом терминальном клиенте ОТК-110, он же ультратонкий клиент.  
